{% extends "base.html" %}
{% block title %}Leaderboard{% endblock %}

{% block content %}
<h1>🏆 Leaderboard</h1>

<form method="get" action="/leaderboard" class="matchday-filter">
  <label>Filter by Week:</label>
  <select name="week" onchange="this.form.submit()">
    <option value="">All Time</option>
    {% for w in range(1, 54) %}
      <option value="{{ w }}" {% if selected_week == w|string %}selected{% endif %}>Week {{ w }}</option>
    {% endfor %}
  </select>
</form>

<table class="leaderboard-table">
  <thead>
    <tr>
      <th>Rank</th>
      <th>Name</th>
      <th>Points</th>
      <th>Badges</th>
    </tr>
  </thead>
  <tbody>
    {% for entry in leaderboard %}
    <tr>
      <td>{{ loop.index }}</td>
      <td>{{ entry.user }}</td>
      <td>{{ entry.points }}</td>
      <td>{{ entry.badges }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<br>
<a href="/">← Back to Predictions</a>
{% endblock %}
